package Scaler.Assignments.BinarySearchProblems;

public class SpecialInteger {
    public static void main(String[] args) {

//        int [] A = {3,2,5,4,6,3,7,2};
//        int [] A = {1, 4, 2, 10, 2, 3, 1, 0, 20};
        int [] A = {220957, 268133, 988708, 351887, 821856, 288156, 543868, 678860, 600239, 533192, 145484, 142057, 136498, 847941, 110836, 359553, 432648, 272887, 480366, 800378, 665141, 452477, 501758, 806093, 481306, 172335, 902204, 802589, 620828, 952877, 960588, 838286, 127014, 923256, 782491, 101844, 236515, 961809, 362605, 204991, 100703, 616960, 291542, 564215, 497103, 716026, 326986, 178853, 735066, 928453, 202781, 982504, 746300, 874698, 493752, 439679, 477926, 762318, 788945, 270309, 473401, 586781, 551443, 110927, 534946, 356105, 559047, 163301, 910063, 385608, 426824, 238763, 134235, 361932, 309918, 779660, 492141, 393914, 172971, 728110, 430439, 451985, 191160, 616620, 966680, 747492, 417046, 275186, 190894, 418630, 207335, 185093, 649123, 570689, 854108, 860946, 831424, 664841, 406217, 609307, 160839, 161942, 798266, 594901, 794350, 105644, 826946, 443415, 302013, 472555, 627532, 323766, 886295, 526285, 606894, 482040, 740012, 486924, 483670, 144378, 118374, 567809, 371088, 466689, 318281, 537414, 913394, 885357, 516321, 535778, 553010, 615013, 915862, 912083, 462221, 646939, 893159, 752817, 220599, 424838, 812598, 638467, 757339, 113458, 301969, 700680, 306296, 929955, 640120, 651626, 140775, 877915, 611357, 122569, 964940, 609578, 223677, 479643, 339240, 143086, 571173, 781381, 108363, 578475, 844904, 304796, 481926, 688641, 961084, 594595, 390508, 709674, 680581, 683599, 702635, 318693, 139560, 891515, 641876, 966737, 197497, 533906, 887530, 829273, 935868, 963548, 177169, 847531, 308465, 522302, 154857, 260142, 552632, 203244, 524924, 866459, 619578, 309961, 177953, 820431, 171557, 452787, 152979, 327105, 823792, 840193, 387882, 302523, 979890, 507634, 488605, 262241, 420897, 575863, 317011, 723676, 360175, 146033, 357116, 843154, 268980, 919918, 269869, 659790, 410925, 680090, 287805, 785233, 697419, 277179, 732611, 960814, 690734, 949103, 561015, 201801, 136528, 540650, 257406, 662222, 403455, 500880, 495186, 483105, 243906, 510503, 783103, 632020, 366996, 331715, 397702, 402443, 332570, 478980, 778463, 317728, 733313, 780747, 628367, 476376, 130962, 139385, 919331, 182805, 552194, 899392, 549335, 830973, 429898, 102391, 436039, 146960, 996393, 241571, 360324, 551047, 396530, 427847, 292387, 769798, 790702, 645414, 942947, 414336, 460430, 605307, 782527, 642269, 512544, 402146, 662978, 337575, 101832, 241467, 257070, 775358, 256654, 432880, 904392, 186420, 797142, 837723, 114764, 900481, 581428, 918997, 833997, 226171, 301778, 266050, 721043, 721024, 679529, 356821, 820494, 415259, 675434, 576408, 139800, 479506, 540313, 232305, 856791, 668427, 479816, 493873, 589701, 829782, 596671, 736411, 359396, 841583, 303970, 888697, 761362, 428774, 673838, 166899, 543721, 315266, 597241, 427509, 956736, 687164, 282781, 987241, 899122, 878679, 714962, 238845, 537017, 343497, 725718, 538320, 412505, 641235, 206953, 651228, 690406, 551176, 706350, 423682, 914330, 223593, 903898, 286977, 556052, 892759, 762407, 413972, 245826, 405105, 481675, 819980, 165512, 261055, 563044, 541322, 971274, 329654, 808741, 230600, 488045, 571437, 338715, 179348, 284145, 196818, 606614, 815948, 991074, 694851, 836054, 229482, 780970, 890326, 678568, 838702, 752143, 625951, 915380, 359336, 101719, 420749, 686584, 122689, 383702, 125837, 233383, 563805, 460566, 784388, 881668, 628431, 457040, 603834, 278580, 344600, 115821, 365303, 817581, 366849, 436693, 327755, 852105, 728933, 152907, 332447, 803091, 834346, 561669, 277141, 111423, 173039, 779160, 608843, 372801, 677450, 334804, 378877, 219555, 821253, 254317, 814775, 881649, 720245, 106581, 289682, 167362, 416328, 805507, 211932, 653132, 712765, 764748, 214903, 761497, 281724, 900567, 800469, 136373, 783583, 366043, 178075, 195584, 621535, 278524, 845923, 552071, 104768, 271383, 880691, 247218, 508789, 261061, 537954, 432425, 802452, 270822, 516644, 168341, 357813, 993800, 307857, 985123, 171158, 209610, 130798, 561601, 401353, 191222, 456796, 836453, 375152, 651694, 636125, 160241, 618177, 884077, 171710, 533631, 244965, 741969, 928874, 154131, 581845, 793072, 530860, 511411, 602334, 653631, 466220, 329486, 626353, 977699, 125948, 753070, 771734, 931937, 895858, 314870, 549362, 534023, 952782, 700827, 161721, 270714, 651965, 551066, 398706, 140243, 147420, 895794, 124284, 682942, 957024, 527370, 912887, 573875, 969775, 852521, 625409, 451736, 493929, 151908, 511252, 549371, 161585, 498229, 885053, 473061, 337842, 448550, 354579, 250008, 830770, 131785, 769746, 326506, 462248, 897978, 421738, 952874, 339054, 382529, 846007, 235438, 858670, 865525, 373159, 370779, 994874, 274004, 127787, 102872, 734480, 183326, 296808, 659921, 678469, 722680, 676144, 534391, 278278, 479382, 257353, 367128, 851158, 326744, 534335, 184424, 707285, 971103, 494249, 315517, 325706, 225049, 806564, 187235, 336194, 665916, 739428, 552383, 999781, 831277, 713544, 558925, 831949, 236512, 950303, 808158, 679412, 473408, 583120, 681800, 243886, 663314, 578795, 940265, 544435, 793577, 559118, 907420, 923715, 461729, 922071, 760689, 132860, 588384, 136651, 739652, 374761, 736795, 925707, 671104, 646120, 494752, 257075, 984072, 794958, 532760, 434985, 254370, 702146, 651387, 920790, 375024, 403005, 270204, 815012, 296249, 388244, 690945, 101100, 816684, 962183, 688266, 285370, 436141, 890696, 842970, 867344, 499441, 441241, 234555, 440007, 170692, 703060, 452673, 550465, 277931, 276847, 370333, 148065, 359091, 440120, 345658, 809269, 322055, 227019, 583531, 956352, 803884, 609423, 393633, 280533, 277297, 830018, 227197, 639146, 506132, 317382, 961225, 121203, 195682, 408136, 225936, 366070, 218755, 611874, 938948, 775846, 623706, 780851, 617926, 783701, 846871, 188301, 592417, 927596, 458538, 976781, 925099, 331633, 468956, 211062, 582878, 815775, 408868, 758906, 669044, 338710, 177692, 127384, 439139, 628398, 321681, 902508, 275231, 970108, 364272, 775483, 885976, 202765, 461323, 890277, 133121, 220983, 795041, 713979, 259089, 192346, 852160, 314039, 304742, 277393, 954268, 724553, 661701, 583152, 221182, 597566, 899315, 590183, 951902, 164763, 142849, 767813, 801859, 279900, 656498, 432537, 820116, 573009, 502484, 210548, 285584, 723676, 505848, 636928, 747492, 652560, 253420, 761243, 132049, 637868, 195040, 732120, 524645, 286636, 995244, 201825, 274844, 329429, 604467, 525972, 300150, 861475, 780226, 133162, 883648, 823269, 290759, 104724, 470573, 199326, 476358, 235657, 569310, 315024, 226831, 544463, 553436, 428371, 757551, 661771, 443169, 546085, 331015, 655488, 716963, 541459, 876093, 343653, 266923, 815310, 402865, 605272, 865417, 520668, 697450, 824106, 154390, 766903, 308215, 990719, 503862, 929614, 502474, 244060, 811480, 918895, 781061, 555416, 131179, 100463, 487100, 144790, 925712, 921683, 134844, 472604, 635164, 267616, 314620, 268052, 441597, 261083, 400733, 839543, 988529, 924994, 200602, 862358, 683227, 945355, 635448, 453991, 169654, 208901, 735530, 728590, 610381, 240635, 366236, 368504, 456894, 133411, 675251, 163151, 419492, 444253, 365567, 243241, 470278, 930213, 254311, 181862, 525797, 810363, 773117, 143002, 759440, 569899, 702239, 432805, 387996, 867363, 407629, 849175, 861593, 466625, 767879, 231309, 961749, 491543, 436235, 482319, 278380, 593108, 281830, 175303, 393342, 326412, 493790, 756078, 745440, 757903, 312093, 224212, 689852, 962174, 769834, 408117, 193494, 721928, 492975, 249617, 127124, 414779, 405727, 378803, 524810, 156175, 632359, 290876, 381917, 469041, 769560, 533321, 253844, 567576, 427389, 673915, 899510, 275229, 801394, 347934, 885913, 744951, 343674, 576378, 933134, 813630, 646439, 906085, 332700, 902027, 638070, 147360, 216525, 866493, 318715, 375044, 888452, 319449, 230129, 714903, 255957, 461852, 162803, 558821, 115663, 512759, 952288, 539479, 353047, 978649, 206244, 948014, 714103, 978274, 433870, 896650, 694700, 327609, 220174, 112326, 971996, 893840, 299005, 597110, 771491, 747358, 730774, 206444, 523192, 576399, 783499, 477321, 510825, 180178, 949099, 684972, 559154, 323328, 800775, 918932, 936209, 516914, 611893, 847139, 369582, 789498, 211940, 880192, 488942, 525431, 350932, 456976, 410521, 277013, 380068, 847567, 473586, 902121, 833504, 509664, 723756, 739586, 213757, 640748, 913507, 510875, 241583, 139757, 856346, 328480, 430072, 329265, 727845, 899002, 682289, 291990, 454108, 932006, 191916, 143911, 166225, 404528, 147205, 700363, 827886, 885497, 199934, 891167, 962546, 794341, 863132, 346213, 816437, 853729, 444011, 303843, 794160, 997623, 301848, 990978, 294748, 712740, 844457, 786139, 457797, 424040, 641487, 104345, 601640, 582991, 637936, 136316, 998537, 381127, 697052, 233506, 385442, 490840, 688250, 955197, 653167, 430321, 262712, 884196, 891617, 560256, 527013, 873679, 794261, 246110, 233403, 409242, 741122, 261759, 154337, 657495, 586293, 667738, 998347, 525318, 973364, 870505, 654574, 872383, 790128, 557920, 924045, 903602, 852549, 210496, 607212, 317905, 477204, 708032, 569342, 305043, 261286, 486856, 797994, 663099, 339747, 154204, 500128, 255952, 430244, 733120, 260344, 342167, 408337, 193806, 596250, 284591, 377705, 525509, 202175, 593412, 913160, 116743, 868233, 964505, 157847, 441126, 198151, 849619, 850264, 391036, 426362, 635255, 641566, 262026, 952495, 513083, 739165, 467129, 469730, 696294, 578683, 652132, 262407, 973502, 983112, 190392, 287801, 394664, 915356, 758927, 537188, 151902, 968348, 536253, 692100, 952228, 465525, 616891, 553117, 878853, 663699, 507416, 720568, 403134, 560221, 354627, 149201, 640112, 406811, 757640, 682204, 337224, 523565, 132636, 893838, 647963, 188365, 431497, 534536, 970082, 249287, 463692, 377490, 421407, 870607, 934598, 811515, 785420, 276589, 992761, 511454, 983427, 101505, 873700, 944411, 120528, 789185, 538431, 937773, 408525, 210878, 831200, 843288, 190459, 286346, 522807, 180409, 778753, 599811, 863406, 131628, 971678, 299773, 641804, 392730, 831398, 459694, 837097, 451697, 690862, 255133, 152810, 981388, 106574, 982212, 443786, 283214, 789570, 102076, 381672, 811675, 127892, 946599, 456154, 742918, 660465, 661576, 675946, 124445, 974419, 495518, 716109, 557597, 875815, 864410, 956371, 719652, 827129, 235854, 468918, 928167, 553949, 279611, 843523, 486605, 898062, 125776, 582868, 727372, 834407, 256722, 861602, 186013, 375370, 134392, 218909, 498689, 557440, 830676, 646291, 113894, 442469, 385312, 539737, 649015, 168615, 663133, 108668, 502430, 654500, 520465, 372749, 152705, 394184, 319100, 732090, 837840, 880297, 945488, 466362, 509559, 457949, 402673, 804030, 700365, 643068, 743006, 804107, 124308, 835311, 700701, 209812, 456417, 517989, 765161, 865976, 500213, 465208, 408237, 940187, 357998, 569921, 841681, 351478, 864313, 165662, 634577, 489710, 429449, 939443, 964846, 803836, 366940, 823604, 713726, 747888, 146606, 910411, 337660, 699796, 223056, 454714, 768114, 310014, 738464, 217251, 996577, 194499, 187989, 753963, 699401, 459680, 566389, 275174, 445077, 435863, 185161, 682560, 405182, 399894, 360999, 541532, 259470, 587925, 128374, 762011, 845441, 734770, 221754, 741503, 253198, 427615, 206239, 570989, 407551, 228736, 209362, 116327, 211005, 404393, 521315, 965727, 143697, 795222, 386057, 377278, 829295, 277213, 101556, 269625, 179493, 791761, 883847, 373582, 223987, 368269, 926623, 902785, 417662, 123486, 105788, 407492, 592221, 697965, 336649, 847164, 885598, 381954, 190394, 154705, 239227, 690580, 416043, 368066, 900624, 571251, 294217, 473347, 406687, 565065, 169892, 637664, 951791};
        //{1, 4, 2, 10, 2, 3, 1, 0, 20};

        int maxValue = 25;

        int result = findSpecialInteger(A, maxValue);

        System.out.println("Final Result is " + result);
    }

    static int findSpecialInteger(int[] A, int B){

        int answer = -1;

        int startIndex = 1;
        int endIndex = A.length;

        while(startIndex <= endIndex){

            int middleIndex = startIndex + ((endIndex - startIndex)/2);

//            if(maxSubArraySumForLength(A, middleIndex) <= B){
            if(maximumSubArraySum(A, middleIndex) <= B){
                    answer = middleIndex;
                    startIndex = middleIndex + 1;
                }else{
                    endIndex = middleIndex -1;
                }
            }
        return answer;
    }

    static long maximumSubArraySum(int[] arr, int length) {
        int n = arr.length;
//        int maxSum = Integer.MIN_VALUE;

        long result = 0;
        for (int i = 0; i <length; i++) {
            result += arr[i];
        }

        long currSum = result;
        for (int i= length; i < n;i++){
            currSum += arr[i] - arr[i-length];
            result = Math.max(result,currSum);
        }

        return result;
    }

    static int maxSubArraySumForLength(int [] A, int lengthOfSubArray){

        int maxSum = A[0];

        for(int i = 0; i<A.length; i++){

            if(i+lengthOfSubArray-1 < A.length){

                int answer = findSubArraySum(A, i, i+lengthOfSubArray-1);

                // System.out.println("Total Sum is " + answer);
                if (answer > maxSum){
                    maxSum = answer;
                }
            }           
        }
        return maxSum;
    }

    static int findSubArraySum(int [] subArray, int start, int end){

        int sum = 0;

        for(int i = start; i <= end; i ++){

            sum = sum + subArray[i];
            
            System.out.println("The sum of SubArray is " + sum);
        }        

        return sum;
    }
}
